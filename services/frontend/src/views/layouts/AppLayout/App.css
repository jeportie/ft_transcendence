/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   App.css                                            :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: jeportie <jeportie@42.fr>                  +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2025/10/27 23:55:00 by jeportie          #+#    #+#             */
/*   Updated: 2025/10/30 14:40:39 by jeportie         ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

@tailwind components;

@layer components {

  /* ==========================================================================
     ğŸŒŒ GLOBAL THEME
     ========================================================================== */
  .app-theme {
    @apply relative min-h-screen text-white;
    background: linear-gradient(180deg, #0b1020 0%, #0e152b 50%, #291313 100%);
    color: rgba(255,255,255,0.84);
    font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  }

  /* ==========================================================================
     ğŸ¥ CANVAS LAYERS (Babylon sphere under UI)
     ========================================================================== */
  .app-theme .app-hero-canvas {
    @apply absolute inset-0 w-full h-full;
    z-index: 0;
  }

  .app-theme .app-overlay-canvas {
    @apply absolute inset-0 w-full h-full;
    z-index: 10;
    pointer-events: none;
  }

  /* ==========================================================================
     ğŸ§± APP STRUCTURE
     ========================================================================== */
  html,
  body,
  #app-layout,
  .app-layout,
  .app-wrapper {
    @apply w-full h-full relative;
  }

  .app-theme .app-wrapper {
    @apply relative w-full h-full;
    z-index: 30;
    pointer-events: auto;
  }

  .app-theme .app-main {
    @apply relative w-full h-full flex flex-col;
    pointer-events: auto;
    z-index: 40;
  }

  .app-theme .app-main-slot {
    @apply flex-1 w-full h-full overflow-y-auto;
    padding: clamp(1rem, 4vw, 3rem);
  }

  /* ==========================================================================
     âœï¸ TYPOGRAPHY
     ========================================================================== */
  .app-title {
    font-family: 'Michroma', sans-serif;
    font-weight: 100;
    font-size: clamp(1.6rem, 2.2vw, 2.2rem);
    letter-spacing: 0.01em;
  }

  .app-text {
    @apply text-neutral-300;
    font-family: 'Michroma', sans-serif;
    font-weight: 100;
    font-size: 1rem;
    line-height: 1.55;
  }

  .app-item-title {
    font-family: 'Orbitron', 'Michroma', sans-serif;
    font-weight: 400;
    letter-spacing: 0.06em;
    text-transform: uppercase;
    color: rgba(255,255,255,0.9);
  }

  .app-item-desc {
    font-size: 0.875rem;
    color: rgba(200,200,220,0.7);
    line-height: 1.5;
  }

  /* ==========================================================================
     ğŸ§­ FLOATING SIDEBAR
     ========================================================================== */
  .app-theme .app-sidebar {
    @apply flex flex-col items-stretch w-64;
    position: fixed;
    top: 50%;
    left: 2rem;
    transform: translateY(-50%);
    padding: 2rem 1.5rem;
    z-index: 50;
    pointer-events: auto;
    isolation: isolate;
    border-radius: 1rem;

    background: rgba(255,255,255,0.015);
    border: 1px solid rgba(255,255,255,0.06);
    backdrop-filter: blur(26px) saturate(180%);
    box-shadow:
      inset 0 0 25px rgba(255,255,255,0.04),
      0 4px 40px rgba(0,0,0,0.3);
  }

  .app-theme .app-sidebar-nav { @apply flex flex-col gap-3; }

  .app-theme .app-sidebar-link {
    @apply block rounded-md px-4 py-2 text-left;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.05);
    color: rgba(255, 255, 255, 0.82);
    backdrop-filter: blur(18px) saturate(180%);
    -webkit-backdrop-filter: blur(18px) saturate(180%);
    box-shadow:
      inset 0 0 10px rgba(255, 255, 255, 0.03),
      0 2px 6px rgba(0, 0, 0, 0.25);
  }

  .app-theme .app-sidebar-link:hover {
    background: rgba(255,255,255,0.05);
    border-color: rgba(255,255,255,0.08);
    color: rgba(255,255,255,0.95);
  }

  .app-theme .app-title { margin-bottom: 1rem; }

  .app-theme .app-sidebar-link,
  .app-theme #app-logout-btn { pointer-events: auto; }

  /* ==========================================================================
     ğŸ¬ SIDEBAR TOGGLE (only animation kept)
     ========================================================================== */
  .app-layout[data-state="closed"] .app-sidebar {
    opacity: 0;
    transform: translate(-120%, -50%);
    pointer-events: none;
    transition: transform 0.5s ease, opacity 0.5s ease;
  }

  .app-layout[data-state="open"] .app-sidebar {
    opacity: 1;
    transform: translate(0, -50%);
    pointer-events: auto;
    transition: transform 0.5s ease, opacity 0.5s ease;
  }

  /* ==========================================================================
     ğŸ§­ FOOTER BUTTON
     ========================================================================== */
  .app-theme .app-footer {
    @apply fixed left-6 bottom-6;
    z-index: 60;
    pointer-events: auto;
  }

  .app-theme .app-footer-btn {
    @apply px-4 py-2 rounded-lg text-sm font-semibold;
    background: rgba(255,255,255,0.06);
    color: rgba(255,255,255,0.9);
    border: 1px solid rgba(255,255,255,0.1);
    backdrop-filter: blur(22px) saturate(160%);
  }

  /* ==========================================================================
     ğŸ§© PANELS / INPUTS
     ========================================================================== */
  .app-card {
    @apply p-6;
    border-radius: 0.75rem;
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.06);
    backdrop-filter: blur(22px) saturate(160%);
    box-shadow:
      inset 0 0 20px rgba(255,255,255,0.03),
      0 10px 40px rgba(0,0,0,0.35);
  }
  .app-card-title {
    font-family: 'Michroma', sans-serif;
    font-weight: 100;
    font-size: 1.5;
    letter-spacing: 0.01em;
  }

  .app-label { @apply text-xs uppercase tracking-wider text-neutral-300/90; }

  .app-input {
    @apply w-full rounded-md px-3 py-2 bg-neutral-950/40 text-neutral-100 border border-white/10 outline-none;
    backdrop-filter: blur(12px) saturate(140%);
  }

  .app-input:focus {
    border-color: rgba(255,255,255,0.3);
    background-color: rgba(20,20,30,0.45);
  }

  .app-field { @apply grid gap-1; }

  /* ==========================================================================
     ğŸ§® BUTTONS (no transitions)
     ========================================================================== */
  .app-btn-primary,
  .app-btn-secondary {
    @apply inline-flex items-center justify-center px-4 py-2 font-medium;
    border-radius: 0.5rem;
  }

  .app-btn-primary {
    background: linear-gradient(100deg, rgba(255,255,255,0.15), rgba(255,255,255,0.08));
    color: rgba(255,255,255,0.95);
    border: 1px solid rgba(255,255,255,0.12);
  }

  .app-btn-secondary {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.10);
    color: rgba(255,255,255,0.9);
  }

  /* ==========================================================================
     ğŸ§­ DOTLIST
     ========================================================================== */
  .app-dotlist { @apply relative grid gap-8; }

  .app-dotitem { @apply relative pl-8; }

  .app-dotitem::before {
    content: "";
    position: absolute;
    left: 0.9rem;
    top: 0.5rem;
    width: 8px;
    height: 8px;
    border-radius: 9999px;
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.9), rgba(255,255,255,0.2));
    box-shadow: 0 0 20px rgba(255,255,255,0.25);
  }

  .app-dotitem::after {
    content: "";
    position: absolute;
    left: 1.2rem;
    top: 1.5rem;
    bottom: -1.5rem;
    width: 2px;
    background: linear-gradient(to bottom, rgba(255,255,255,0.08), transparent 80%);
  }

  .app-dotitem:last-child::after { display: none; }

  .app-dotitem-body {
    @apply flex items-start justify-between gap-6 p-5;
    border-radius: 0.75rem;
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.05);
    backdrop-filter: blur(18px) saturate(160%);
  }

  .app-actions { @apply shrink-0; }

  /* ==========================================================================
     ğŸ§­ SIDEBAR â†” VIEW INTERACTION (Balanced push â€” centered with sidebar margin)
     ========================================================================== */
  
  .app-view-zone {
    @apply relative;
    z-index: 50;
    padding: clamp(2rem, 6vw, 4rem);
    max-width: min(100%, 90rem); /* safe reading width */
    margin-left: clamp(18rem, 22vw, 24rem); /* keeps sidebar space free */
    margin-right: auto;
    box-sizing: border-box;
    transform: none;
    filter: brightness(1) saturate(1);
    pointer-events: auto 
  }

  /* Add once */
  .app-tooltip {
    position: absolute;
    z-index: 80;                 /* above .app-wrapper (30) and canvases (0/10) */
    left: 50%;
    transform: translateX(-50%);
    margin-top: .5rem;
    background: rgba(20,20,28,.95);
    border: 1px solid rgba(255,255,255,.12);
    border-radius: .375rem;
    padding: .25rem .5rem;
    white-space: nowrap;
    pointer-events: none;
  }


  /* ==========================================================================
     ğŸªŸ MODALS
     ========================================================================== */
  .app-modal-overlay {
    @apply fixed inset-0 flex items-center justify-center;
    background: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(12px) saturate(140%);
    z-index: 100; /* must be above sidebar (50) and wrapper (30) */
  }

  .app-modal-card {
    @apply relative w-full max-w-md p-6 rounded-xl;
    background: rgba(255,255,255,0.05);
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow:
      0 10px 40px rgba(0,0,0,0.5),
      inset 0 0 30px rgba(255,255,255,0.05);
    backdrop-filter: blur(22px) saturate(160%);
    z-index: 110;
    pointer-events: auto;
  }

  .app-modal-close {
    @apply absolute top-0 right-2 text-neutral-200 text-lg;
    cursor: pointer;
    background: none;
    border: none;
  }

  .app-modal-close:hover {
    color: white;
  }

  strong-password {
    display: block;
    width: 100%;
    position: relative;
    /* Keep normal pointer events so host still boxes content */
    pointer-events: auto;
  }
  
  strong-password > * {
    pointer-events: auto; /* ensure input and bar are interactive */
  }
  
  strong-password input {
    width: 100%;
    display: block;
  }

}
